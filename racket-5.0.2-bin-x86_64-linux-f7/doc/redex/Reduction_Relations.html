<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>4&nbsp;Reduction Relations</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Redex</span>:<span class="mywbr"> </span> Practical Semantics Engineering</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Patterns.html" class="tocviewlink" pltdoc="x">Patterns</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Terms.html" class="tocviewlink" pltdoc="x">Terms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Languages.html" class="tocviewlink" pltdoc="x">Languages</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Reduction Relations</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Metafunctions_and_Relations.html" class="tocviewlink" pltdoc="x">Metafunctions and Relations</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Testing.html" class="tocviewlink" pltdoc="x">Testing</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="GUI.html" class="tocviewlink" pltdoc="x">GUI</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Typesetting.html" class="tocviewlink" pltdoc="x">Typesetting</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="pink.html" class="tocviewlink" pltdoc="x">Removing the pink background from PLT Redex rendered picts and ps files</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(form._((lib._redex/main..rkt)._reduction-relation))" class="tocsublink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktStxLink">reduction-<wbr></wbr>relation</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/main..rkt)._extend-reduction-relation))" class="tocsublink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktStxLink">extend-<wbr></wbr>reduction-<wbr></wbr>relation</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._union-reduction-relations))" class="tocsublink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">union-<wbr></wbr>reduction-<wbr></wbr>relations</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._reduction-relation-~3erule-names))" class="tocsublink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">reduction-<wbr></wbr>relation-<wbr></wbr>&gt;rule-<wbr></wbr>names</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/main..rkt)._compatible-closure))" class="tocsublink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktStxLink">compatible-<wbr></wbr>closure</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/main..rkt)._context-closure))" class="tocsublink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktStxLink">context-<wbr></wbr>closure</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._reduction-relation~3f))" class="tocsublink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">reduction-<wbr></wbr>relation?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._apply-reduction-relation))" class="tocsublink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">apply-<wbr></wbr>reduction-<wbr></wbr>relation</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._apply-reduction-relation/tag-with-names))" class="tocsublink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">apply-<wbr></wbr>reduction-<wbr></wbr>relation/<span class="mywbr"> </span>tag-<wbr></wbr>with-<wbr></wbr>names</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._apply-reduction-relation*))" class="tocsublink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">apply-<wbr></wbr>reduction-<wbr></wbr>relation*</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/main..rkt)._--~3e))" class="tocsublink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktStxLink">-<wbr></wbr>-<wbr></wbr>&gt;</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/main..rkt)._fresh))" class="tocsublink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktStxLink">fresh</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/main..rkt)._with))" class="tocsublink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktStxLink">with</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="Languages.html" title="backward to &quot;3 Languages&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Redex: Practical Semantics Engineering&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Metafunctions_and_Relations.html" title="forward to &quot;5 Metafunctions and Relations&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>4<tt>&nbsp;</tt><a name="(part._.Reduction_.Relations)"></a>Reduction Relations</h3><p>All of the exports in this section are provided both by
<a href="Patterns.html" class="RktModLink" pltdoc="x"><span class="RktSym">redex/reduction-semantics</span></a> (which includes
all non-GUI portions of Redex) and also exported by
<a href="index.html" class="RktModLink" pltdoc="x"><span class="RktSym">redex</span></a> (which includes all of Redex).</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._reduction-relation))"></a><a name="(form._((lib._redex/main..rkt)._reduction-relation))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._reduction-relation))" class="RktStxLink" pltdoc="x">reduction-relation</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">language</span><span class="hspace">&nbsp;</span><span class="RktVar">domain</span><span class="hspace">&nbsp;</span><span class="RktVar">main-arrow</span><span class="hspace">&nbsp;</span><span class="RktVar">reduction-case</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">domain</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:domain</span><span class="hspace">&nbsp;</span><a href="Patterns.html#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">main-arrow</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:arrow</span><span class="hspace">&nbsp;</span><span class="RktVar">arrow</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">reduction-case</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._--~3e))" class="RktStxLink" pltdoc="x">--&gt;</a></span><span class="hspace">&nbsp;</span><a href="Patterns.html#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="hspace">&nbsp;</span><a href="Terms.html#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">term</span></span></a><span class="hspace">&nbsp;</span><span class="RktVar">extras</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">extras</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">rule-name</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._fresh))" class="RktStxLink" pltdoc="x">fresh</a></span><span class="hspace">&nbsp;</span><span class="RktVar">fresh-clause</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">side-condition</span><span class="hspace">&nbsp;</span><span class="RktVar">racket-expression</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">where</span><span class="hspace">&nbsp;</span><span class="RktVar">tl-pat</span><span class="hspace">&nbsp;</span><a href="Terms.html#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">term</span></span></a><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">side-condition/hidden</span><span class="hspace">&nbsp;</span><span class="RktVar">racket-expression</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">where/hidden</span><span class="hspace">&nbsp;</span><span class="RktVar">tl-pat</span><span class="hspace">&nbsp;</span><a href="Terms.html#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">term</span></span></a><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">rule-name</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">identifier</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">string</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">computed-name</span><span class="hspace">&nbsp;</span><span class="RktVar">racket-expression</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">fresh-clause</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">var</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVar">var1</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">var2</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">tl-pat</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">identifier</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">tl-pat-ele</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">tl-pat-ele</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">tl-pat</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">tl-pat</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">a literal ellipsis</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Defines a reduction relation casewise, one case for each of the
clauses beginning with <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._--~3e))" class="RktStxLink" pltdoc="x">--&gt;</a></span> (or with <span class="RktVar">arrow</span>, if
specified). Each of the <span class="RktSym">pattern</span>s
refers to the <span class="RktVar">language</span>, and binds variables in the
<a href="Terms.html#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">term</span></span></a>.</div></p><p>Following the <a href="Patterns.html#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> and <a href="Terms.html#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside">term</span></a> can be the name of the
reduction rule, declarations of some fresh variables, and/or
some side-conditions.</p><p>The rule&rsquo;s name (used in <a href="Typesetting.html" pltdoc="x">typesetting</a>,
the <span class="RktSym"><a href="GUI.html#(def._((lib._redex/gui..rkt)._stepper))" class="RktValLink" pltdoc="x">stepper</a></span>, <span class="RktSym"><a href="GUI.html#(def._((lib._redex/gui..rkt)._traces))" class="RktValLink" pltdoc="x">traces</a></span>, and
<span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._apply-reduction-relation/tag-with-names))" class="RktValLink" pltdoc="x">apply-reduction-relation/tag-with-names</a></span>) can be given
as a literal (an identifier or a string) or as an expression
that computes a name using the values of the bound pattern
variables (much like the rule&rsquo;s right-hand side). Some operations
require literal names, so a rule definition may provide both
a literal name and a computed name. In particular, only rules that include
a literal name may be replaced using <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._extend-reduction-relation))" class="RktStxLink" pltdoc="x">extend-reduction-relation</a></span>,
used as breakpoints in the <span class="RktSym"><a href="GUI.html#(def._((lib._redex/gui..rkt)._stepper))" class="RktValLink" pltdoc="x">stepper</a></span>, and selected using
<span class="RktSym"><a href="Typesetting.html#(def._((lib._redex/pict..rkt)._render-reduction-relation-rules))" class="RktValLink" pltdoc="x">render-reduction-relation-rules</a></span>. The output of
<span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._apply-reduction-relation/tag-with-names))" class="RktValLink" pltdoc="x">apply-reduction-relation/tag-with-names</a></span>, <span class="RktSym"><a href="GUI.html#(def._((lib._redex/gui..rkt)._traces))" class="RktValLink" pltdoc="x">traces</a></span>, and
the <span class="RktSym"><a href="GUI.html#(def._((lib._redex/gui..rkt)._stepper))" class="RktValLink" pltdoc="x">stepper</a></span> prefers the computed name, if it exists. Typesetting
a rule with a computed name shows the expression that computes the name
only when the rule has no literal name or when it would not typeset in
pink due to <span class="RktSym"><a href="pink.html#(form._((lib._redex/main..rkt)._with-unquote-rewriter))" class="RktStxLink" pltdoc="x">with-unquote-rewriter</a></span>s in the context; otherwise,
the literal name (or nothing) is shown.</p><p>The fresh variables clause generates variables that do not
occur in the term being matched. If the <span class="RktVar">fresh-clause</span> is a
variable, that variable is used both as a binding in the
rhs-exp and as the prefix for the freshly generated
variable. (The variable does not have to be
a non-terminal in the language of the reduction relation.)</p><p>The second case of a <span class="RktVar">fresh-clause</span> is used when you want to
generate a sequence of variables. In that case, the ellipses
are literal ellipses; that is, you must actually write
ellipses in your rule. The variable <span class="RktVar">var1</span> is like the
variable in first case of a <span class="RktVar">fresh-clause</span>, namely it is
used to determine the prefix of the generated variables and
it is bound in the right-hand side of the reduction rule,
but unlike the single-variable fresh clause, it is bound to
a sequence of variables. The variable <span class="RktVar">var2</span> is used to
determine the number of variables generated and <span class="RktVar">var2</span> must be
bound by the left-hand side of the rule.</p><p>All side-conditions provided with <span class="RktSym">side-condition</span> and
<span class="RktSym">hidden-side-condition</span> are collected with <span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._and))" class="RktStxLink" pltdoc="x">and</a></span> and
used as guards on the case being matched. The argument to each
side-condition should be a Racket expression, and the pattern
variables in the <a href="Patterns.html#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a> are bound in that expression. A
<span class="RktVar">side-condition/hidden</span> form is the same as
<span class="RktSym">side-condition</span>, except that the side condition is not
rendered when typesetting via <a href="Typesetting.html" class="RktModLink" pltdoc="x"><span class="RktSym">redex/pict</span></a>.</p><p>Each <span class="RktSym">where</span> clause acts as a side condition requiring a
successful pattern match, and it can bind pattern variables in the
side-conditions (and <span class="RktSym">where</span> clauses) that follow and in the
metafunction result. The bindings are the same as bindings in a
<span class="RktSym"><a href="Terms.html#(form._((lib._redex/main..rkt)._term-let))" class="RktStxLink" pltdoc="x">term-let</a></span> expression. A <span class="RktVar">where/hidden</span> clause is the
same as a <span class="RktSym">where</span> clause, but the clause is not
rendered when typesetting via <a href="Typesetting.html" class="RktModLink" pltdoc="x"><span class="RktSym">redex/pict</span></a>.</p><p>As an example, this</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._reduction-relation))" class="RktStxLink" pltdoc="x">reduction-relation</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">lc-lang</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._--~3e))" class="RktStxLink" pltdoc="x">--&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Terms.html#(form._((lib._redex/main..rkt)._in-hole))" class="RktStxLink" pltdoc="x">in-hole</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c_1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">variable_i</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e_body</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">v_i</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Terms.html#(form._((lib._redex/main..rkt)._in-hole))" class="RktStxLink" pltdoc="x">in-hole</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c_1</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((lib._racket/private/base..rkt)._foldl))" class="RktValLink" pltdoc="x">foldl</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lc-subst</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Terms.html#(form._((lib._redex/main..rkt)._term))" class="RktStxLink" pltdoc="x">term</a></span><span class="hspace">&nbsp;</span><span class="RktSym">e_body</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Terms.html#(form._((lib._redex/main..rkt)._term))" class="RktStxLink" pltdoc="x">term</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">v_i</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Terms.html#(form._((lib._redex/main..rkt)._term))" class="RktStxLink" pltdoc="x">term</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">variable_i</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">beta-v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>defines a reduction relation for the lambda-calculus above.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._reduction-relation))" class="RktStxLink" pltdoc="x">reduction-relation</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVar">language</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">arrow-var</span><span class="hspace">&nbsp;</span><a href="Patterns.html#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="hspace">&nbsp;</span><a href="Terms.html#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">term</span></span></a><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._with))" class="RktStxLink" pltdoc="x">with</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">arrow</span><span class="hspace">&nbsp;</span><a href="Patterns.html#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="hspace">&nbsp;</span><a href="Terms.html#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">term</span></span></a><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">arrow-var</span><span class="hspace">&nbsp;</span><span class="RktVar">var</span><span class="hspace">&nbsp;</span><span class="RktVar">var</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Defines a reduction relation with shortcuts. As above, the
first section defines clauses of the reduction relation, but
instead of using <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._--~3e))" class="RktStxLink" pltdoc="x">--&gt;</a></span>, those clauses can use any identifier
for an arrow, as long as the identifier is bound after the
<span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._with))" class="RktStxLink" pltdoc="x">with</a></span> clause.</div></p><p>Each of the clauses after the <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._with))" class="RktStxLink" pltdoc="x">with</a></span> define new relations
in terms of other definitions after the <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._with))" class="RktStxLink" pltdoc="x">with</a></span> clause or in
terms of the main <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._--~3e))" class="RktStxLink" pltdoc="x">--&gt;</a></span> relation.</p><p>A <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._fresh))" class="RktStxLink" pltdoc="x">fresh</a></span> variable is always fresh with respect to the entire
term, not just with respect to the part that matches the
right-hand-side of the newly defined arrow.</p><p>As an example, this</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._reduction-relation))" class="RktStxLink" pltdoc="x">reduction-relation</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">lc-num-lang</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">==&gt;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">variable_i</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e_body</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">v_i</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((lib._racket/private/base..rkt)._foldl))" class="RktValLink" pltdoc="x">foldl</a></span><span class="hspace">&nbsp;</span><span class="RktSym">lc-subst</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Terms.html#(form._((lib._redex/main..rkt)._term))" class="RktStxLink" pltdoc="x">term</a></span><span class="hspace">&nbsp;</span><span class="RktSym">e_body</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Terms.html#(form._((lib._redex/main..rkt)._term))" class="RktStxLink" pltdoc="x">term</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">v_i</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Terms.html#(form._((lib._redex/main..rkt)._term))" class="RktStxLink" pltdoc="x">term</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">variable_i</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">==&gt;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" class="RktValLink" pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">number_1</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/procedures.html#(def._((lib._racket/private/base..rkt)._apply))" class="RktValLink" pltdoc="x">apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" class="RktValLink" pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Terms.html#(form._((lib._redex/main..rkt)._term))" class="RktStxLink" pltdoc="x">term</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">number_1</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._with))" class="RktStxLink" pltdoc="x">with</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._--~3e))" class="RktStxLink" pltdoc="x">--&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Terms.html#(form._((lib._redex/main..rkt)._in-hole))" class="RktStxLink" pltdoc="x">in-hole</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c_1</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Terms.html#(form._((lib._redex/main..rkt)._in-hole))" class="RktStxLink" pltdoc="x">in-hole</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c_1</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">==&gt;</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></p><p>defines reductions for the lambda calculus with numbers,
where the <span class="stt">==&gt;</span> relation is defined by reducing in the context
<span class="stt">c</span>.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._extend-reduction-relation))"></a><a name="(form._((lib._redex/main..rkt)._extend-reduction-relation))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._extend-reduction-relation))" class="RktStxLink" pltdoc="x">extend-reduction-relation</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">reduction-relation</span><span class="hspace">&nbsp;</span><span class="RktVar">language</span><span class="hspace">&nbsp;</span><span class="RktVar">more</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">This form extends the reduction relation in its first
argument with the rules specified in <span class="RktVar">more</span>. They should
have the same shape as the rules (including the <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._with))" class="RktStxLink" pltdoc="x">with</a></span>
clause) in an ordinary <span class="RktVar">reduction-relation</span>.</div></p><p>If the original reduction-relation has a rule with the same
name as one of the rules specified in the extension, the old
rule is removed.</p><p><div class="SIntrapara">In addition to adding the rules specified to the existing
relation, this form also reinterprets the rules in the
original reduction, using the new language.
</div><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._union-reduction-relations))"></a><a name="(def._((lib._redex/main..rkt)._union-reduction-relations))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._union-reduction-relations))" class="RktValLink" pltdoc="x">union-reduction-relations</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._reduction-relation~3f))" class="RktValLink" pltdoc="x">reduction-relation?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._reduction-relation~3f))" class="RktValLink" pltdoc="x">reduction-relation?</a></span></td></tr></table></div><div class="SIntrapara">Combines all of the argument reduction relations into a
single reduction relation that steps when any of the
arguments would have stepped.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._reduction-relation-~3erule-names))"></a><a name="(def._((lib._redex/main..rkt)._reduction-relation-~3erule-names))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._reduction-relation-~3erule-names))" class="RktValLink" pltdoc="x">reduction-relation-&gt;rule-names</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._reduction-relation~3f))" class="RktValLink" pltdoc="x">reduction-relation?</a></span></td></tr></table></div><div class="SIntrapara">Returns the names of the reduction relation&rsquo;s named clauses.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._compatible-closure))"></a><a name="(form._((lib._redex/main..rkt)._compatible-closure))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._compatible-closure))" class="RktStxLink" pltdoc="x">compatible-closure</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">reduction-relation</span><span class="hspace">&nbsp;</span><span class="RktVar">lang</span><span class="hspace">&nbsp;</span><span class="RktVar">non-terminal</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">This accepts a reduction, a language, the name of a
non-terminal in the language and returns the compatible
closure of the reduction for the specified non-terminal.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._context-closure))"></a><a name="(form._((lib._redex/main..rkt)._context-closure))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._context-closure))" class="RktStxLink" pltdoc="x">context-closure</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">reduction-relation</span><span class="hspace">&nbsp;</span><span class="RktVar">lang</span><span class="hspace">&nbsp;</span><span class="RktVar">pattern</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">This accepts a reduction, a language, a pattern representing
a context (ie, that can be used as the first argument to
<span class="RktSym"><a href="Terms.html#(form._((lib._redex/main..rkt)._in-hole))" class="RktStxLink" pltdoc="x">in-hole</a></span>; often just a non-terminal) in the language and
returns the closure of the reduction in that context.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._reduction-relation~3f))"></a><a name="(def._((lib._redex/main..rkt)._reduction-relation~3f))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._reduction-relation~3f))" class="RktValLink" pltdoc="x">reduction-relation?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if its argument is a reduction-relation, and
<span class="RktVal">#f</span> otherwise.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._apply-reduction-relation))"></a><a name="(def._((lib._redex/main..rkt)._apply-reduction-relation))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._apply-reduction-relation))" class="RktValLink" pltdoc="x">apply-reduction-relation</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._reduction-relation~3f))" class="RktValLink" pltdoc="x">reduction-relation?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">This accepts reduction relation, a term, and returns a
list of terms that the term reduces to.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._apply-reduction-relation/tag-with-names))"></a><a name="(def._((lib._redex/main..rkt)._apply-reduction-relation/tag-with-names))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._apply-reduction-relation/tag-with-names))" class="RktValLink" pltdoc="x">apply-reduction-relation/tag-with-names</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">r</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">t</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._list/c))" class="RktValLink" pltdoc="x">list/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">union</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._reduction-relation~3f))" class="RktValLink" pltdoc="x">reduction-relation?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._apply-reduction-relation))" class="RktValLink" pltdoc="x">apply-reduction-relation</a></span>, but the result indicates the
names of the reductions that were used.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._apply-reduction-relation*))"></a><a name="(def._((lib._redex/main..rkt)._apply-reduction-relation*))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._apply-reduction-relation*))" class="RktValLink" pltdoc="x">apply-reduction-relation*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._reduction-relation~3f))" class="RktValLink" pltdoc="x">reduction-relation?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></div><div class="SIntrapara">The function <span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._apply-reduction-relation*))" class="RktValLink" pltdoc="x">apply-reduction-relation*</a></span> accepts a reduction relation and a
term. Starting from <span class="RktVar">t</span>, it follows every reduction
path and returns all of the terms that do not reduce further.
If there are infinite reduction
sequences that do not repeat, this function will not
terminate (it does terminate if the only infinite reduction paths are cyclic).</div></p><p><table cellspacing="0"><tr><td><p>Examples:</p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Languages.html#(form._((lib._redex/main..rkt)._define-language))" class="RktStxLink" pltdoc="x">define-language</a></span><span class="hspace">&nbsp;</span><span class="RktSym">empty-lang</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">R</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._reduction-relation))" class="RktStxLink" pltdoc="x">reduction-relation</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">empty-lang</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._--~3e))" class="RktStxLink" pltdoc="x">--&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._--~3e))" class="RktStxLink" pltdoc="x">--&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._--~3e))" class="RktStxLink" pltdoc="x">--&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._--~3e))" class="RktStxLink" pltdoc="x">--&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._apply-reduction-relation))" class="RktValLink" pltdoc="x">apply-reduction-relation</a></span><span class="hspace">&nbsp;</span><span class="RktSym">R</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(2<span class="stt"> </span>1)</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._apply-reduction-relation*))" class="RktValLink" pltdoc="x">apply-reduction-relation*</a></span><span class="hspace">&nbsp;</span><span class="RktSym">R</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">'(1)</span></p></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><a name="(dep._((lib._redex/main..rkt)._--~3e))"></a><a name="(form._((lib._redex/main..rkt)._--~3e))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._--~3e))" class="RktStxLink" pltdoc="x">--&gt;</a></span></span></td></tr></table></div><div class="SIntrapara"> Recognized specially within
<span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._reduction-relation))" class="RktStxLink" pltdoc="x">reduction-relation</a></span>. A <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._--~3e))" class="RktStxLink" pltdoc="x">--&gt;</a></span> form is an
error elsewhere.  </div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><a name="(dep._((lib._redex/main..rkt)._fresh))"></a><a name="(form._((lib._redex/main..rkt)._fresh))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._fresh))" class="RktStxLink" pltdoc="x">fresh</a></span></span></td></tr></table></div><div class="SIntrapara"> Recognized specially within
<span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._reduction-relation))" class="RktStxLink" pltdoc="x">reduction-relation</a></span>. A <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._fresh))" class="RktStxLink" pltdoc="x">fresh</a></span> form is an
error elsewhere.  </div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><a name="(dep._((lib._redex/main..rkt)._with))"></a><a name="(form._((lib._redex/main..rkt)._with))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._with))" class="RktStxLink" pltdoc="x">with</a></span></span></td></tr></table></div><div class="SIntrapara"> Recognized specially within
<span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._reduction-relation))" class="RktStxLink" pltdoc="x">reduction-relation</a></span>. A <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._with))" class="RktStxLink" pltdoc="x">with</a></span> form is an
error elsewhere.  </div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="Languages.html" title="backward to &quot;3 Languages&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Redex: Practical Semantics Engineering&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Metafunctions_and_Relations.html" title="forward to &quot;5 Metafunctions and Relations&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>