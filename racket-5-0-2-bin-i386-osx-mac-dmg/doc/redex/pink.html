<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>9&nbsp;Removing the pink background from PLT Redex rendered picts and ps files</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Redex</span>:<span class="mywbr"> </span> Practical Semantics Engineering</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Patterns.html" class="tocviewlink" pltdoc="x">Patterns</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Terms.html" class="tocviewlink" pltdoc="x">Terms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Languages.html" class="tocviewlink" pltdoc="x">Languages</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Reduction_Relations.html" class="tocviewlink" pltdoc="x">Reduction Relations</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Metafunctions_and_Relations.html" class="tocviewlink" pltdoc="x">Metafunctions and Relations</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Testing.html" class="tocviewlink" pltdoc="x">Testing</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="GUI.html" class="tocviewlink" pltdoc="x">GUI</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Typesetting.html" class="tocviewlink" pltdoc="x">Typesetting</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Removing the pink background from PLT Redex rendered picts and ps files</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>9&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Removing the pink background from PLT Redex rendered picts and ps files</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">9.1&nbsp;</td><td><a href="#(part._.L.W)" class="tocviewlink" pltdoc="x">LW</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(form._((lib._redex/main..rkt)._with-unquote-rewriter))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktStxLink">with-<wbr></wbr>unquote-<wbr></wbr>rewriter</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/main..rkt)._with-atomic-rewriter))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktStxLink">with-<wbr></wbr>atomic-<wbr></wbr>rewriter</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/main..rkt)._with-compound-rewriter))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktStxLink">with-<wbr></wbr>compound-<wbr></wbr>rewriter</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">9.1<tt>&nbsp;</tt></span><a href="#(part._.L.W)" class="tocsubseclink" pltdoc="x">LW</a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">build-<wbr></wbr>lw</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._lw-e))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">lw-<wbr></wbr>e</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._lw-line))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">lw-<wbr></wbr>line</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._lw-line-span))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">lw-<wbr></wbr>line-<wbr></wbr>span</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._lw-column))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">lw-<wbr></wbr>column</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._lw-column-span))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">lw-<wbr></wbr>column-<wbr></wbr>span</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">lw?</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/main..rkt)._lw))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym">lw</span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/main..rkt)._to-lw))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktStxLink">to-<wbr></wbr>lw</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._render-lw))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">render-<wbr></wbr>lw</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._lw-~3epict))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">lw-<wbr></wbr>&gt;pict</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._just-before))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">just-<wbr></wbr>before</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/main..rkt)._just-after))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: redex"><span class="RktSym"><span class="RktValLink">just-<wbr></wbr>after</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="Typesetting.html" title="backward to &quot;8 Typesetting&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Redex: Practical Semantics Engineering&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="doc-index.html" title="forward to &quot;Index&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>9<tt>&nbsp;</tt><a name="(part._pink)"></a>Removing the pink background from PLT Redex rendered picts and ps files</h3><p>When reduction rules, a metafunction, or a grammar contains
unquoted Racket code or side-conditions, they are rendered
with a pink background as a guide to help find them and
provide alternative typesettings for them. In general, a
good goal for a PLT Redex program that you intend to typeset
is to only include such things when they correspond to
standard mathematical operations, and the Racket code is an
implementation of those operations.</p><p>To replace the pink code, use:</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._with-unquote-rewriter))"></a><a name="(form._((lib._redex/main..rkt)._with-unquote-rewriter))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._with-unquote-rewriter))" class="RktStxLink" pltdoc="x">with-unquote-rewriter</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span><span class="RktVar">expression</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">It installs <span class="RktVar">proc</span> the current unqoute rewriter and
evaluates expression. If that expression computes any picts,
the unquote rewriter specified is used to remap them.</div></p><p>The <span class="RktVar">proc</span> should be a function of one argument. It receives
a <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span> struct as an argument and should return
another <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span> that contains a rewritten version of the
code.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._with-atomic-rewriter))"></a><a name="(form._((lib._redex/main..rkt)._with-atomic-rewriter))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._with-atomic-rewriter))" class="RktStxLink" pltdoc="x">with-atomic-rewriter</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name-symbol</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">string-or-thunk-returning-pict</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">expression</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">This extends the current set of atomic-rewriters with one
new one that rewrites the value of name-symbol to
string-or-pict-returning-thunk (applied, in the case of a
thunk), during the evaluation of expression.</div></p><p><span class="RktVar">name-symbol</span> is expected to evaluate to a symbol. The value
of string-or-thunk-returning-pict is used whever the symbol
appears in a pattern.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._with-compound-rewriter))"></a><a name="(form._((lib._redex/main..rkt)._with-compound-rewriter))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._with-compound-rewriter))" class="RktStxLink" pltdoc="x">with-compound-rewriter</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name-symbol</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">proc</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">expression</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">This extends the current set of compound-rewriters with one
new one that rewrites the value of name-symbol via proc,
during the evaluation of expression.</div></p><p><span class="RktVar">name-symbol</span> is expected to evaluate to a symbol. The value
of proc is called with a <span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span><span class="RktPn">)</span>, and is expected to
return a new <span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="stt"> </span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="stt"> </span><span class="RktSym"><a href="../slideshow/Pict_Datatype.html#(def._((lib._slideshow/pict..rkt)._pict~3f))" class="RktValLink" pltdoc="x">pict?</a></span><span class="RktPn">)</span><span class="RktPn">)</span>,
rewritten appropriately.</p><p>The list passed to the rewriter corresponds to the
<span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span> for the sequence that has name-symbol&rsquo;s value at
its head.</p><p>The result list is constrained to have at most 2 adjacent
non-<span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span>s. That list is then transformed by adding
<span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span> structs for each of the non-<span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span>s in the
list (see the description of <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span> below for an
explanation of logical-space):</p><ul><li><p>If there are two adjacent <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span>s, then the logical
space between them is filled with whitespace.</p></li><li><p>If there is a pair of <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span>s with just a single
non-<span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span> between them, a <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span> will be
created (containing the non-<span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span>) that uses all
of the available logical space between the <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span>s.</p></li><li><p>If there are two adjacent non-<span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span>s between two
<span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span>s, the first non-<span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span> is rendered
right after the first <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span> with a logical space
of zero, and the second is rendered right before the
last <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span> also with a logical space of zero, and
the logical space between the two <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span>s is
absorbed by a new <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span> that renders using no
actual space in the typeset version.</p></li></ul><h4>9.1<tt>&nbsp;</tt><a name="(part._.L.W)"></a>LW</h4><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._build-lw))"></a><a name="(def._((lib._redex/main..rkt)._build-lw))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="RktValLink" pltdoc="x">build-lw</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktVar">line</span><span class="hspace">&nbsp;</span><span class="RktVar">line-span</span><span class="hspace">&nbsp;</span><span class="RktVar">column</span><span class="hspace">&nbsp;</span><span class="RktVar">column-span</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">e</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="../slideshow/Pict_Datatype.html#(def._((lib._slideshow/pict..rkt)._pict~3f))" class="RktValLink" pltdoc="x">pict?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._symbols))" class="RktValLink" pltdoc="x">symbols</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">spring</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">line</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._exact-positive-integer~3f))" class="RktValLink" pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">line-span</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._exact-positive-integer~3f))" class="RktValLink" pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">column</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._exact-positive-integer~3f))" class="RktValLink" pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">column-span</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._exact-positive-integer~3f))" class="RktValLink" pltdoc="x">exact-positive-integer?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._lw-e))"></a><a name="(def._((lib._redex/main..rkt)._lw-e))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw-e))" class="RktValLink" pltdoc="x">lw-e</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lw</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="../slideshow/Pict_Datatype.html#(def._((lib._slideshow/pict..rkt)._pict~3f))" class="RktValLink" pltdoc="x">pict?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._symbols))" class="RktValLink" pltdoc="x">symbols</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">spring</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._lw-line))"></a><a name="(def._((lib._redex/main..rkt)._lw-line))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw-line))" class="RktValLink" pltdoc="x">lw-line</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lw</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._exact-positive-integer~3f))" class="RktValLink" pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._lw-line-span))"></a><a name="(def._((lib._redex/main..rkt)._lw-line-span))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw-line-span))" class="RktValLink" pltdoc="x">lw-line-span</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lw</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._exact-positive-integer~3f))" class="RktValLink" pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._lw-column))"></a><a name="(def._((lib._redex/main..rkt)._lw-column))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw-column))" class="RktValLink" pltdoc="x">lw-column</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lw</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._exact-positive-integer~3f))" class="RktValLink" pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._lw-column-span))"></a><a name="(def._((lib._redex/main..rkt)._lw-column-span))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw-column-span))" class="RktValLink" pltdoc="x">lw-column-span</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lw</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._exact-positive-integer~3f))" class="RktValLink" pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._lw~3f))"></a><a name="(def._((lib._redex/main..rkt)._lw~3f))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><a name="(dep._((lib._redex/main..rkt)._lw))"></a><a name="(form._((lib._redex/main..rkt)._lw))"></a><span title="Provided from: redex"><span class="RktSym">lw</span></span></td></tr></table></td></tr></table></div><div class="SIntrapara">The lw data structure corresponds represents a pattern or a Racket
expression that is to be typeset.  The functions listed above
construct <span class="RktVar">lw</span> structs, select fields out of them, and
recognize them. The <span class="RktVar">lw</span> binding can be used with
<span class="RktSym">copy-struct</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._to-lw))"></a><a name="(form._((lib._redex/main..rkt)._to-lw))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._to-lw))" class="RktStxLink" pltdoc="x">to-lw</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">This form turns its argument into lw structs that
contain all of the spacing information just as it would appear
when being used to typeset.</div></p><p>Each sub-expression corresponds to its own lw, and
the element indicates what kind of subexpression it is. If
the element is a list, then the lw corresponds to a
parenthesized sequence, and the list contains a lw
for the open paren, one lw for each component of the
sequence and then a lw for the close
parenthesis. In the case of a dotted list, there will also
be a lw in the third-to-last position for the dot.</p><p>For example, this expression:</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="RktPn">)</span></p><p>becomes this lw (assuming the above expression
appears as the first thing in the file):</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="RktValLink" pltdoc="x">build-lw</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="RktValLink" pltdoc="x">build-lw</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"("</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="RktValLink" pltdoc="x">build-lw</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="RktValLink" pltdoc="x">build-lw</a></span><span class="hspace">&nbsp;</span><span class="RktVal">")"</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr></table></p><p>If there is some whitespace in the sequence, like this one:</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></p><p>then there is no lw that corresponds to that
whitespace; instead there is a logical gap between the
lws.</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="RktValLink" pltdoc="x">build-lw</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="RktValLink" pltdoc="x">build-lw</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"("</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="RktValLink" pltdoc="x">build-lw</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="RktValLink" pltdoc="x">build-lw</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="RktValLink" pltdoc="x">build-lw</a></span><span class="hspace">&nbsp;</span><span class="RktVal">")"</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr></table></p><p>In general, identifiers are represented with symbols and
parenthesis are represented with strings and picts can be
inserted to render arbitrary pictures.</p><p>The line, line-span, column, and column-span correspond to
the logical spacing for the redex program, not the actual
spacing that will be used when they are rendered. The
logical spacing is only used when determining where to place
typeset portions of the program. In the absense of any
rewriters, these numbers correspond to the line and column
numbers in the original program.</p><p>The line and column are absolute numbers from the beginning
of the file containing the expression. The column number is
not necessarily the column of the open parenthesis in a
sequence &ndash; it is the leftmost column that is occupied by
anything in the sequence. The line-span is the number of
lines, and the column span is the number of columns on the
last line (not the total width).</p><p>When there are multiple lines, lines are aligned based on
the logical space (ie, the line/column &amp;
line-span/column-span) fields of the lws. As an
example, if this is the original pattern:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">all</span><span class="hspace">&nbsp;</span><span class="RktSym">good</span><span class="hspace">&nbsp;</span><span class="RktSym">boys</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">deserve</span><span class="hspace">&nbsp;</span><span class="RktSym">fudge</span><span class="RktPn">)</span></td></tr></table></p><p>then the leftmost edges of the words "good" and "deserve"
will be lined up underneath each other, but the relative
positions of "boys" and "fudge" will be determined by the
natural size of the words as they rendered in the
appropriate font.</p><p>When <span class="RktVal">'</span><span class="RktVal">spring</span> appears in the list in the <span class="RktSym">e</span>
field of a <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._lw))" class="RktStxLink" pltdoc="x">lw</a></span> struct, then it absorbs all of the
space around it. It is also used by <span class="RktSym"><a href="#(form._((lib._redex/main..rkt)._to-lw))" class="RktStxLink" pltdoc="x">to-lw</a></span> when
constructing the picts for unquoted strings. For example, this expression</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRdr">,</span><span class="RktSym">x</span></p><p>corresponds to these structs:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="RktValLink" pltdoc="x">build-lw</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="RktValLink" pltdoc="x">build-lw</a></span><span class="hspace">&nbsp;</span><span class="RktVal">""</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">spring</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._build-lw))" class="RktValLink" pltdoc="x">build-lw</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr></table></p><p>and the <span class="RktVal">'</span><span class="RktVal">spring</span> causes there to be no space between
the empty string and the <span class="RktSym">x</span> in the typeset output.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._render-lw))"></a><a name="(def._((lib._redex/main..rkt)._render-lw))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._render-lw))" class="RktValLink" pltdoc="x">render-lw</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">language/nts</span><span class="hspace">&nbsp;</span><span class="RktVar">lw</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../slideshow/Pict_Datatype.html#(def._((lib._slideshow/pict..rkt)._pict~3f))" class="RktValLink" pltdoc="x">pict?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">language/nts</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Languages.html#(def._((lib._redex/main..rkt)._compiled-lang~3f))" class="RktValLink" pltdoc="x">compiled-lang?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span></td></tr></table></div><div class="SIntrapara">Produces a pict that corresponds to the <span class="RktVar">lw</span> object
argument, using <span class="RktVar">language/nts</span> to determine which
of the identifiers in the <span class="RktVar">lw</span> argument are
non-terminals.</div></p><p>This function sets <span class="RktSym"><a href="../slideshow/Rendering.html#(def._((lib._slideshow/pict..rkt)._dc-for-text-size))" class="RktValLink" pltdoc="x">dc-for-text-size</a></span>. See also
<span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw-~3epict))" class="RktValLink" pltdoc="x">lw-&gt;pict</a></span>.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._lw-~3epict))"></a><a name="(def._((lib._redex/main..rkt)._lw-~3epict))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw-~3epict))" class="RktValLink" pltdoc="x">lw-&gt;pict</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">language/ntw</span><span class="hspace">&nbsp;</span><span class="RktVar">lw</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../slideshow/Pict_Datatype.html#(def._((lib._slideshow/pict..rkt)._pict~3f))" class="RktValLink" pltdoc="x">pict?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">language/ntw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Languages.html#(def._((lib._redex/main..rkt)._compiled-lang~3f))" class="RktValLink" pltdoc="x">compiled-lang?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span></td></tr></table></div><div class="SIntrapara">Produces a pict that corresponds to the <span class="RktVar">lw</span> object
argument, using <span class="RktSym">language/nts</span> to determine which
of the identifiers in the <span class="RktVar">lw</span> argument are
non-terminals.</div></p><p>This does not set the <span class="RktSym"><a href="../slideshow/Rendering.html#(def._((lib._slideshow/pict..rkt)._dc-for-text-size))" class="RktValLink" pltdoc="x">dc-for-text-size</a></span> parameter. See also
<span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._render-lw))" class="RktValLink" pltdoc="x">render-lw</a></span>.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._just-before))"></a><a name="(def._((lib._redex/main..rkt)._just-before))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._just-before))" class="RktValLink" pltdoc="x">just-before</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">stuff</span><span class="hspace">&nbsp;</span><span class="RktVar">lw</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stuff</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../slideshow/Pict_Datatype.html#(def._((lib._slideshow/pict..rkt)._pict~3f))" class="RktValLink" pltdoc="x">pict?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._redex/main..rkt)._just-after))"></a><a name="(def._((lib._redex/main..rkt)._just-after))"></a><span title="Provided from: redex"><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._just-after))" class="RktValLink" pltdoc="x">just-after</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">stuff</span><span class="hspace">&nbsp;</span><span class="RktVar">lw</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">stuff</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../slideshow/Pict_Datatype.html#(def._((lib._slideshow/pict..rkt)._pict~3f))" class="RktValLink" pltdoc="x">pict?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/main..rkt)._lw~3f))" class="RktValLink" pltdoc="x">lw?</a></span></td></tr></table></td></tr></table></div><div class="SIntrapara">These two helper functions build new lws whose contents are
the first argument, and whose line and column are based on
the second argument, making the new loc wrapper be either
just before or just after that argument. The line-span and
column-span of the new lw is always zero.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.2&quot;);">top</a></span><span class="navright"><a href="Typesetting.html" title="backward to &quot;8 Typesetting&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Redex: Practical Semantics Engineering&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="doc-index.html" title="forward to &quot;Index&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>